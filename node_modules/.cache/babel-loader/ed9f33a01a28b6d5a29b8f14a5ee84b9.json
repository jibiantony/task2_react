{"ast":null,"code":"var _jsxFileName = \"/home/jibi/training/training_react_app/src/pages/CreateEmployee.jsx\",\n    _s = $RefreshSig$();\n\nimport Button from '../components/Button';\nimport InputField from '../components/InputField';\nimport SelectField from '../components/SelectField';\nimport FileField from '../components/FileField';\nimport '../styles/style.css';\nimport { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useCreateEmployeeMutation, useGetEmployeeByIdQuery, useGetEmployeeQuery, useUpdateEmployeeMutation } from '../service/employee';\nimport MainContainer from '../components/MainContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreateEmployee(props) {\n  _s();\n\n  const {\n    onCancel\n  } = props;\n  const [newEmployee, setNewEmployee] = useState({});\n  const navigate = useNavigate();\n  const params = useParams();\n  const {\n    data\n  } = useGetEmployeeByIdQuery(params.id, {\n    skip: !params.id\n  });\n  const [createEmployee, result] = useCreateEmployeeMutation();\n  const [updateEmployee] = useUpdateEmployeeMutation();\n  console.log(params.id ? 'submit' : 'create');\n  useEffect(() => {\n    if (data) {\n      console.log(data);\n      setNewEmployee(data);\n    }\n  }, [data]);\n\n  const onCancelDefault = () => {\n    if (onCancel) onCancel();else navigate('/dashboard');\n  };\n\n  const handleChange = (name, value) => {\n    console.log(newEmployee);\n    setNewEmployee({ ...newEmployee,\n      [name]: value\n    });\n  };\n\n  const onSubmit = () => {\n    // console.log(newEmployee);\n    const payload = {\n      name: newEmployee.name,\n      role: newEmployee.role,\n      status: newEmployee.status,\n      experience: newEmployee.experience,\n      joiningDate: newEmployee.joiningDate\n    };\n    console.log(payload);\n\n    if (!data) {\n      createEmployee(payload);\n    } else {\n      debugger;\n      updateEmployee({\n        id: params.id,\n        body: payload\n      });\n    }\n\n    if (onCancel) onCancel();else navigate('/dashboard');\n  };\n\n  const inputFields = [{\n    label: 'Employee Name',\n    name: 'name'\n  }, {\n    label: 'Employee Email',\n    type: 'email',\n    name: 'email'\n  }, {\n    label: 'Employee ID',\n    name: 'id'\n  }, {\n    label: 'Joining Date',\n    type: 'date',\n    name: 'joiningDate'\n  }, {\n    label: 'Experience',\n    name: 'experience'\n  }, {\n    label: 'Address',\n    name: 'address'\n  }];\n  return /*#__PURE__*/_jsxDEV(MainContainer, {\n    title: `${params.id ? 'Edit' : 'Create'} Employee`,\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"employee-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"form-container\",\n          children: [inputFields.map(inputField => /*#__PURE__*/_jsxDEV(InputField, {\n            label: inputField.label,\n            type: inputField.type,\n            value: newEmployee[`${inputField.name}`],\n            handleChange: value => handleChange(inputField.name, value)\n          }, inputField.label, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(SelectField, {\n            label: 'Role',\n            options: [{\n              label: 'Choose Role',\n              value: ''\n            }, {\n              label: 'Developer',\n              value: 'Developer'\n            }, {\n              label: 'DevOps',\n              value: 'DevOps'\n            }, {\n              label: 'QA',\n              value: 'QA'\n            }],\n            value: data === null || data === void 0 ? void 0 : data.Role,\n            handleChange: value => handleChange('Role', value),\n            name: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n            label: 'Status',\n            options: [{\n              label: 'Choose Status',\n              value: ''\n            }, {\n              label: 'Probation',\n              value: 'Probation'\n            }, {\n              label: 'Active',\n              value: 'Active'\n            }, {\n              label: 'Inactive',\n              value: 'Inactive'\n            }],\n            value: data === null || data === void 0 ? void 0 : data.status,\n            handleChange: value => handleChange('status', value),\n            name: \"status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileField, {\n            label: 'Upload ID Proof'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            handleClick: () => {\n              onSubmit(newEmployee);\n            },\n            label: params.id ? 'Submit' : 'Create',\n            variant: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            handleClick: () => onCancelDefault(),\n            label: 'Cancel',\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this) //   </main>\n  // </div>\n  ;\n}\n\n_s(CreateEmployee, \"C+tm1++LGdPcyj7bY+S4CQ4NCnA=\", false, function () {\n  return [useNavigate, useParams, useGetEmployeeByIdQuery, useCreateEmployeeMutation, useUpdateEmployeeMutation];\n});\n\n_c = CreateEmployee;\nexport default CreateEmployee;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateEmployee\");","map":{"version":3,"names":["Button","InputField","SelectField","FileField","useEffect","useState","useNavigate","useParams","useCreateEmployeeMutation","useGetEmployeeByIdQuery","useGetEmployeeQuery","useUpdateEmployeeMutation","MainContainer","CreateEmployee","props","onCancel","newEmployee","setNewEmployee","navigate","params","data","id","skip","createEmployee","result","updateEmployee","console","log","onCancelDefault","handleChange","name","value","onSubmit","payload","role","status","experience","joiningDate","body","inputFields","label","type","map","inputField","Role"],"sources":["/home/jibi/training/training_react_app/src/pages/CreateEmployee.jsx"],"sourcesContent":["import Button from '../components/Button';\nimport InputField from '../components/InputField';\nimport SelectField from '../components/SelectField';\nimport FileField from '../components/FileField';\nimport '../styles/style.css';\nimport { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useCreateEmployeeMutation, useGetEmployeeByIdQuery, useGetEmployeeQuery, useUpdateEmployeeMutation } from '../service/employee';\nimport MainContainer from '../components/MainContainer';\n\n\nfunction CreateEmployee(props) {\n  const { onCancel } = props;\n  const [newEmployee, setNewEmployee] = useState({});\n  const navigate = useNavigate();\n  const params = useParams();\n  const { data } = useGetEmployeeByIdQuery(params.id, { skip: !params.id });\n  const [createEmployee, result] = useCreateEmployeeMutation();\n  const [updateEmployee] = useUpdateEmployeeMutation();\n  console.log(params.id ? 'submit' : 'create');\n  useEffect(() => {\n    if (data) {\n      console.log(data);\n      setNewEmployee(data);\n    }\n  }, [data])\n\n  const onCancelDefault = () => {\n    if (onCancel) onCancel();\n    else\n      navigate('/dashboard');\n  }\n\n\n  const handleChange = (name, value) => {\n    console.log(newEmployee);\n    setNewEmployee({\n      ...newEmployee,\n      [name]: value\n    })\n  }\n\n  const onSubmit = () => {\n    // console.log(newEmployee);\n    const payload = { \n      name: newEmployee.name, \n      role: newEmployee.role, \n      status: newEmployee.status, \n      experience: newEmployee.experience,\n      joiningDate: newEmployee.joiningDate\n    }\n    console.log(payload)\n    if (!data) {\n      createEmployee(payload);\n    } else {\n      debugger;\n      updateEmployee({\n        id: params.id,\n        body: payload\n      })\n    }\n    if (onCancel)\n      onCancel();\n    else\n      navigate('/dashboard');\n  }\n\n  const inputFields = [\n    { label: 'Employee Name', name: 'name' },\n    { label: 'Employee Email', type: 'email', name: 'email' },\n    { label: 'Employee ID', name: 'id' },\n    { label: 'Joining Date', type: 'date', name: 'joiningDate' },\n    { label: 'Experience', name: 'experience' },\n    { label: 'Address', name: 'address' }\n  ];\n\n  return (\n    <MainContainer title={`${params.id ? 'Edit' : 'Create'} Employee`}>\n      <section id=\"form\">\n        <form id=\"employee-form\">\n          <div id=\"form-container\">\n            {inputFields.map(\n              inputField =>\n                <InputField\n                  key={inputField.label}\n                  label={inputField.label}\n                  type={inputField.type}\n                  value={newEmployee[`${inputField.name}`]}\n                  handleChange={value => handleChange(inputField.name, value)}\n                />\n            )}\n            <SelectField\n              label={'Role'}\n              options={[\n                {\n                  label: 'Choose Role',\n                  value: ''\n                },\n                { \n                  label: 'Developer', \n                  value: 'Developer' \n                },\n                { \n                  label: 'DevOps',\n                  value: 'DevOps'\n                }, \n                { \n                  label: 'QA', \n                  value: 'QA' \n                }]}\n              value={data?.Role}\n              handleChange={value => handleChange('Role', value)}\n              name=\"Role\"\n            />\n            <SelectField\n              label={'Status'}\n              options={[\n                {\n                  label: 'Choose Status',\n                  value: ''\n                },\n                { \n                  label: 'Probation', \n                  value: 'Probation' \n                },\n                { \n                  label: 'Active',\n                  value: 'Active'\n                }, \n                { \n                  label: 'Inactive', \n                  value: 'Inactive' \n                }]}\n              value={data?.status}\n              handleChange={value => handleChange('status', value)}\n              name=\"status\"\n            />\n            <FileField label={'Upload ID Proof'} />\n          </div>\n          <div id=\"form-buttons\">\n            <Button handleClick={() => { onSubmit(newEmployee) }} label={params.id ? 'Submit' : 'Create'} variant=\"primary\" />\n            <Button handleClick={() => onCancelDefault()} label={'Cancel'} variant=\"outlined\" />\n            {/* <Button  label={'Cancel'} variant=\"outlined\" /> */}\n          </div>\n        </form>\n      </section>\n    </MainContainer>\n    //   </main>\n    // </div>\n  );\n}\n\nexport default CreateEmployee;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/jibi/training/training_react_app/src/pages/CreateEmployee.jsx\",\n    _s = $RefreshSig$();\n\nimport Button from '../components/Button';\nimport InputField from '../components/InputField';\nimport SelectField from '../components/SelectField';\nimport FileField from '../components/FileField';\nimport '../styles/style.css';\nimport { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useCreateEmployeeMutation, useGetEmployeeByIdQuery, useGetEmployeeQuery, useUpdateEmployeeMutation } from '../service/employee';\nimport MainContainer from '../components/MainContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreateEmployee(props) {\n  _s();\n\n  const {\n    onCancel\n  } = props;\n  const [newEmployee, setNewEmployee] = useState({});\n  const navigate = useNavigate();\n  const params = useParams();\n  const {\n    data\n  } = useGetEmployeeByIdQuery(params.id, {\n    skip: !params.id\n  });\n  const [createEmployee, result] = useCreateEmployeeMutation();\n  const [updateEmployee] = useUpdateEmployeeMutation();\n  console.log(params.id ? 'submit' : 'create');\n  useEffect(() => {\n    if (data) {\n      console.log(data);\n      setNewEmployee(data);\n    }\n  }, [data]);\n\n  const onCancelDefault = () => {\n    if (onCancel) onCancel();else navigate('/dashboard');\n  };\n\n  const handleChange = (name, value) => {\n    console.log(newEmployee);\n    setNewEmployee({ ...newEmployee,\n      [name]: value\n    });\n  };\n\n  const onSubmit = () => {\n    console.log(newEmployee);\n    const payload = {\n      name: newEmployee.name,\n      role: newEmployee.role\n    };\n\n    if (!data) {\n      createEmployee(payload);\n    } else {\n      updateEmployee({\n        id: params.id,\n        body: payload\n      });\n    }\n\n    onCancel();\n  };\n\n  const inputFields = [{\n    label: 'Employee Name',\n    name: 'name'\n  }, {\n    label: 'Employee Email',\n    type: 'email',\n    name: 'email'\n  }, {\n    label: 'Employee ID',\n    name: 'id'\n  }, {\n    label: 'Joining Date',\n    type: 'date',\n    name: 'joiningDate'\n  }, {\n    label: 'Experience',\n    name: 'experience'\n  }, {\n    label: 'Address',\n    name: 'address'\n  }];\n  return /*#__PURE__*/_jsxDEV(MainContainer, {\n    title: `${params.id ? 'Edit' : 'Create'} Employee`,\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"employee-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"form-container\",\n          children: [inputFields.map(inputField => /*#__PURE__*/_jsxDEV(InputField, {\n            label: inputField.label,\n            type: inputField.type,\n            value: newEmployee[`${inputField.name}`],\n            handleChange: value => handleChange(inputField.name, value)\n          }, inputField.label, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(SelectField, {\n            label: 'Role',\n            options: ['Choose Role', 'Developer', 'DevOps', 'QA'],\n            handleChange: value => handleChange('role', value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(SelectField, {\n            label: 'Status',\n            options: ['Choose Status', 'Probation', 'Active', 'Inactive'],\n            handleChange: value => handleChange('status', value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(FileField, {\n            label: 'Upload ID Proof'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"form-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            handleClick: () => {\n              onSubmit(newEmployee);\n            },\n            label: params.id ? 'Submit' : 'Create',\n            variant: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            handleClick: () => onCancelDefault(),\n            label: 'Cancel',\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this) //   </main>\n  // </div>\n  ;\n}\n\n_s(CreateEmployee, \"2JN5aGJQ/CJHd7b2WZRu8ZBwueI=\", false, function () {\n  return [useNavigate, useParams, useGetEmployeeByIdQuery, useCreateEmployeeMutation, useUpdateEmployeeMutation];\n});\n\n_c = CreateEmployee;\nexport default CreateEmployee;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateEmployee\");","map":{"version":3,"names":["Button","InputField","SelectField","FileField","useEffect","useState","useNavigate","useParams","useCreateEmployeeMutation","useGetEmployeeByIdQuery","useGetEmployeeQuery","useUpdateEmployeeMutation","MainContainer","CreateEmployee","props","onCancel","newEmployee","setNewEmployee","navigate","params","data","id","skip","createEmployee","result","updateEmployee","console","log","onCancelDefault","handleChange","name","value","onSubmit","payload","role","body","inputFields","label","type","map","inputField"],"sources":["/home/jibi/training/training_react_app/src/pages/CreateEmployee.jsx"],"sourcesContent":["import Button from '../components/Button';\nimport InputField from '../components/InputField';\nimport SelectField from '../components/SelectField';\nimport FileField from '../components/FileField';\nimport '../styles/style.css';\nimport { useEffect, useState } from 'react';\nimport { useNavigate , useParams} from 'react-router-dom';\nimport { useCreateEmployeeMutation, useGetEmployeeByIdQuery, useGetEmployeeQuery, useUpdateEmployeeMutation } from '../service/employee';\nimport MainContainer from '../components/MainContainer';\n\n\nfunction CreateEmployee(props) {\n  const {  onCancel } = props;\n  const [newEmployee, setNewEmployee] = useState({});\n  const navigate=useNavigate();\n  const params =useParams();\n  const {data}=useGetEmployeeByIdQuery(params.id,{skip:!params.id});\n  const [createEmployee, result]=useCreateEmployeeMutation();\n  const [updateEmployee] = useUpdateEmployeeMutation();\n  console.log(params.id ? 'submit' : 'create');\n  useEffect(()=>{\n    if(data){\n      console.log(data);\n      setNewEmployee(data);\n    }\n  },[data])\n\n    const onCancelDefault=()=>{\n      if(onCancel) onCancel();\n      else\n        navigate('/dashboard');\n    }\n\n\n  const handleChange = (name, value) => {\n    console.log(newEmployee);\n    setNewEmployee({\n      ...newEmployee,\n      [name]: value\n    })\n  }\n\n  const onSubmit=()=>{\n    console.log(newEmployee);\n    const payload={name:newEmployee.name,role:newEmployee.role}\n    if(!data) {\n      createEmployee(payload);\n    } else {\n      updateEmployee({\n        id: params.id,\n        body: payload\n      })\n    }\n    onCancel();\n  }\n\n  const inputFields = [\n    { label: 'Employee Name', name: 'name' },\n    { label: 'Employee Email', type: 'email', name: 'email' },\n    { label: 'Employee ID', name: 'id' },\n    { label: 'Joining Date', type: 'date', name: 'joiningDate' },\n    { label: 'Experience', name: 'experience' },\n    { label: 'Address', name: 'address' }\n  ];\n\n  return (\n    <MainContainer title={`${params.id? 'Edit':'Create'} Employee`}>\n    <section id=\"form\">\n      <form id=\"employee-form\">\n        <div id=\"form-container\">\n          {inputFields.map(\n            inputField =>\n              <InputField\n                key={inputField.label}\n                label={inputField.label}\n                type={inputField.type}\n                value={newEmployee[`${inputField.name}`]}\n                handleChange={value => handleChange(inputField.name, value)}\n              />\n          )}\n          <SelectField \n            label={'Role'} \n            options={['Choose Role', 'Developer', 'DevOps', 'QA']}\n            handleChange={value => handleChange('role', value)}\n          />\n          <SelectField \n            label={'Status'} \n            options={['Choose Status', 'Probation', 'Active', 'Inactive']} \n            handleChange={value => handleChange('status', value)}\n          />\n          <FileField label={'Upload ID Proof'} />\n        </div>\n        <div id=\"form-buttons\">\n          <Button handleClick={() => { onSubmit(newEmployee) }} label={params.id? 'Submit':'Create'} variant=\"primary\" />\n          <Button handleClick={()=>onCancelDefault()} label={'Cancel'} variant=\"outlined\" />\n          {/* <Button  label={'Cancel'} variant=\"outlined\" /> */}\n        </div>\n      </form>\n    </section>\n    </MainContainer>\n    //   </main>\n    // </div>\n  );\n}\n\nexport default CreateEmployee;"],"mappings":"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"},"metadata":{},"sourceType":"module"}